<!--This is a HTML file for a CRUD Web API application-->
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Web API (CRUD)</title>
        <link rel="stylesheet" href="css/site.css"/>
    </head>
</head>
<body>
  <header>
    <h1>Web API for User Management</h1>
  </header>
  <div class="container">
    <section>
      <!-- Hidden input for user ID -->
      <input id="userId" type="hidden" />

      <!-- Input for first name -->
      <label for="FirstName">First Name</label>
      <input id="FirstName" type="text" />

      <!-- Input for last name -->
      <label for="LastName">Last Name</label>
      <input id="LastName" type="text">

      <!-- Input for age -->
      <label for="userAge">Age</label>
      <input id="userAge" type="number"/>

      <!-- Input for email -->
      <label for="Email">Email</label>
      <input id="Email" type="email"/>
      
    
      <!-- Button to save user data -->
      <button id="saveBtn" class="btn">Save</button>

      <!-- Button to reset user data inputs -->
      <button id="resetBtn" class="btn" onclick="reset()">Reset</button>
    </section>

    <!-- Table to display user data -->
    <table>
      <thead>
        <tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Age</th>
          <th>Email</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- JavaScript file for client-side functionality -->
    <script src="js/site.js" asp-append-version="true"></script>
    <script type="text/javascript">
      const saveBtn = document.getElementById("saveBtn");

      saveBtn.addEventListener("click", async () => {
        const id = document.getElementById("userId").value;

        if (!id) {
          // If no user ID is provided, create a new one
          await createUser();

        } else {
          // If user ID is provided, edit an existing user
          await editUser();
        }

        reset(); 
      });

      // Get all users on page load
      getUsers();
    </script>
  </body>
</html>